<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <title>Пример 17 - Дерево списков</title>
</head>

<body>

  <script>
    let data = {
      "Овощи": {
        "огурцы": 5,
        "помидоры": 3
      },
      "Фрукты": {
        "красные": {
          "клубника": 2,
          "малина": 4
        },
        "зеленые": {
          "яблоко": 6,
          "лайм": 2
        }
      }
    }

    function createUl(obj){   //  ФУнкция выводит список элементов объекта
      if(!Object.keys.length)
        return
      let ul = document.createElement('ul')
      for(let key in obj){  //    Проходимся по всему объекту
        let li = document.createElement('li')
        if(!isNaN(obj[key]))  //    Проверяем содержится ли цифра после ключа
          li.textContent = key + ' ' + obj[key] //  добавляем запись после название + количество
        else
          li.textContent = key  //  Если числа нет , просто пишем ключ
        let childrenUl = createUl(obj[key]) //    Записываем функцию в переменную
        if(childrenUl){ //    Если в переменной что-то записано
          li.append(childrenUl) //  , то Добавляем запись
        }
        ul.append(li)
      }
      return ul
    } 
    function createTree(container,obj){
      document.querySelector(container).append(createUl(obj))
    }
    createTree('body', data)
  </script>
</body>
</html>